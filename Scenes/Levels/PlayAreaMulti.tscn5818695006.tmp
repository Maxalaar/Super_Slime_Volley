[gd_scene load_steps=13 format=3 uid="uid://4qo0vk614yt7"]

[ext_resource type="Script" uid="uid://bytoo1w48p0i5" path="res://Scripts/play_area.gd" id="1_mtxfo"]
[ext_resource type="Script" uid="uid://clyb11d4b2uxu" path="res://Scripts/team.gd" id="2_2wiqv"]
[ext_resource type="Script" uid="uid://ct3hnchvwd3vy" path="res://Scripts/debug_manager.gd" id="2_brpsl"]
[ext_resource type="Script" uid="uid://d1gfr0v445v25" path="res://addons/godot_rl_agents/sync.gd" id="3_2wiqv"]
[ext_resource type="PackedScene" uid="uid://c081a8yloou75" path="res://Scenes/StaticElements/Wall.tscn" id="4_aoj3m"]
[ext_resource type="Script" uid="uid://bqq1c77i3e0fk" path="res://Scripts/ball.gd" id="5_6cl5q"]
[ext_resource type="PackedScene" uid="uid://d4kvpjd744jam" path="res://Scenes/Characters/Slime.tscn" id="7_mtxfo"]
[ext_resource type="Script" uid="uid://bpdikbdkjwhfu" path="res://Scripts/score.gd" id="8_sc6oo"]

[sub_resource type="Resource" id="Resource_aoj3m"]
script = ExtResource("2_2wiqv")
slime_number = 1
color = Color(0.5333242, 1.0949746e-06, 2.8878452e-07, 1)
name = "Left"
weight = 2.0
metadata/_custom_type_script = "uid://clyb11d4b2uxu"

[sub_resource type="Resource" id="Resource_6cl5q"]
script = ExtResource("2_2wiqv")
slime_number = 1
color = Color(2.7915835e-06, 0, 0.67593414, 1)
name = "Right"
metadata/_custom_type_script = "uid://clyb11d4b2uxu"

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_jdpsq"]
bounce = 1.0

[sub_resource type="ConvexPolygonShape2D" id="ConvexPolygonShape2D_0aman"]
points = PackedVector2Array(15, 0, 14.815325, -2.346517, 14.265848, -4.635255, 13.365098, -6.8098574, 12.135255, -8.816779, 10.606602, -10.606602, 8.816779, -12.135255, 6.8098574, -13.365098, 4.635255, -14.265848, 2.346517, -14.815325, 9.184548e-16, -15, -2.346517, -14.815325, -4.635255, -14.265848, -6.8098574, -13.365098, -8.816779, -12.135255, -10.606602, -10.606602, -12.135255, -8.816779, -13.365098, -6.8098574, -14.265848, -4.635255, -14.815325, -2.346517, -15, -1.8369095e-15, -14.815325, 2.346517, -14.265848, 4.635255, -13.365098, 6.8098574, -12.135255, 8.816779, -10.606602, 10.606602, -8.816779, 12.135255, -6.8098574, 13.365098, -4.635255, 14.265848, -2.346517, 14.815325, -2.7553643e-15, 15, 2.346517, 14.815325, 4.635255, 14.265848, 6.8098574, 13.365098, 8.816779, 12.135255, 10.606602, 10.606602, 12.135255, 8.816779, 13.365098, 6.8098574, 14.265848, 4.635255, 14.815325, 2.346517, 15, 3.673819e-15)

[node name="PlayAreaMulti" type="Node2D" node_paths=PackedStringArray("walls_container", "wall_left", "wall_right", "roof")]
script = ExtResource("1_mtxfo")
level_width = 1152.0
level_height = 648.0
wall_width = 200.0
walls_container = NodePath("WallsContainer")
wall_left = NodePath("WallsContainer/WallLeft")
wall_right = NodePath("WallsContainer/WallRight")
roof = NodePath("WallsContainer/Roof")
ground_scene = ExtResource("4_aoj3m")
team_list = Array[ExtResource("2_2wiqv")]([SubResource("Resource_aoj3m"), SubResource("Resource_6cl5q")])
slime_scene = ExtResource("7_mtxfo")

[node name="DebugManager" type="Node" parent="."]
script = ExtResource("2_brpsl")
is_debug_mode = false
metadata/_custom_type_script = "uid://ct3hnchvwd3vy"

[node name="Sync" type="Node" parent="."]
script = ExtResource("3_2wiqv")
control_mode = 0
metadata/_custom_type_script = "uid://d1gfr0v445v25"

[node name="Camera2D" type="Camera2D" parent="."]

[node name="WallsContainer" type="Node2D" parent="."]

[node name="WallLeft" parent="WallsContainer" instance=ExtResource("4_aoj3m")]
position = Vector2(-776, 0)
scale = Vector2(200, 648)

[node name="WallRight" parent="WallsContainer" instance=ExtResource("4_aoj3m")]
position = Vector2(776, 0)
scale = Vector2(200, 648)

[node name="Roof" parent="WallsContainer" instance=ExtResource("4_aoj3m")]
position = Vector2(0, -524)
scale = Vector2(1152, 200)

[node name="Ground" parent="WallsContainer" groups=["ground"] instance=ExtResource("4_aoj3m")]
visible = false
position = Vector2(0, 524)
scale = Vector2(1152, 200)

[node name="WallTeamSplitter" parent="WallsContainer" instance=ExtResource("4_aoj3m")]
scale = Vector2(10, 1000)
collision_layer = 4

[node name="Polygon2D" parent="WallsContainer/WallTeamSplitter" index="1"]
color = Color(0, 0, 0, 0)

[node name="Net" parent="WallsContainer" instance=ExtResource("4_aoj3m")]
position = Vector2(0, 312.00003)
scale = Vector2(10, 100)

[node name="Polygon2D" parent="WallsContainer/Net" index="1"]
color = Color(0.2015267, 0.20152655, 0.20152652, 1)
polygon = PackedVector2Array(-1, -1.0000005, -0.8, -1.0000005, 1, -1, 1, 1, -1, 1, -1.0000002, -0.98529303)

[node name="Ball" type="RigidBody2D" parent="." node_paths=PackedStringArray("collision_shape", "polygon_2d")]
position = Vector2(1377, -212)
collision_layer = 2
mass = 10.0
physics_material_override = SubResource("PhysicsMaterial_jdpsq")
contact_monitor = true
max_contacts_reported = 10
script = ExtResource("5_6cl5q")
max_speed = 800.0
spawn_offset_percent_x = 1.0
spawn_offset_percent_y = 0.2
collision_shape = NodePath("CollisionShape2D")
collision_scale_factor = 15.0
collision_points_number = 40
color = Color(0.8509804, 0.5529412, 0, 1)
polygon_2d = NodePath("Polygon2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ball"]
shape = SubResource("ConvexPolygonShape2D_0aman")

[node name="Polygon2D" type="Polygon2D" parent="Ball"]
color = Color(0.8509804, 0.5529412, 0, 1)
polygon = PackedVector2Array(15, 0, 14.815325, -2.346517, 14.265848, -4.635255, 13.365098, -6.8098574, 12.135255, -8.816779, 10.606602, -10.606602, 8.816779, -12.135255, 6.8098574, -13.365098, 4.635255, -14.265848, 2.346517, -14.815325, 9.184548e-16, -15, -2.346517, -14.815325, -4.635255, -14.265848, -6.8098574, -13.365098, -8.816779, -12.135255, -10.606602, -10.606602, -12.135255, -8.816779, -13.365098, -6.8098574, -14.265848, -4.635255, -14.815325, -2.346517, -15, -1.8369095e-15, -14.815325, 2.346517, -14.265848, 4.635255, -13.365098, 6.8098574, -12.135255, 8.816779, -10.606602, 10.606602, -8.816779, 12.135255, -6.8098574, 13.365098, -4.635255, 14.265848, -2.346517, 14.815325, -2.7553643e-15, 15, 2.346517, 14.815325, 4.635255, 14.265848, 6.8098574, 13.365098, 8.816779, 12.135255, 10.606602, 10.606602, 12.135255, 8.816779, 13.365098, 6.8098574, 14.265848, 4.635255, 14.815325, 2.346517, 15, 3.673819e-15)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ScoreLabel" type="Label" parent="CanvasLayer"]
visible = false
offset_left = 30.0
offset_top = 19.0
offset_right = 140.0
offset_bottom = 64.0
theme_override_font_sizes/font_size = 35
text = "Score : 0"
script = ExtResource("8_sc6oo")

[editable path="WallsContainer/WallTeamSplitter"]
[editable path="WallsContainer/Net"]
