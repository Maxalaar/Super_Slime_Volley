[gd_scene load_steps=32 format=3 uid="uid://4qo0vk614yt7"]

[ext_resource type="Script" uid="uid://bytoo1w48p0i5" path="res://Scripts/play_area.gd" id="1_5q6f0"]
[ext_resource type="Script" uid="uid://clyb11d4b2uxu" path="res://Scripts/team.gd" id="2_qnc68"]
[ext_resource type="PackedScene" uid="uid://d4kvpjd744jam" path="res://Scenes/Characters/Slime.tscn" id="3_5fajs"]
[ext_resource type="PackedScene" uid="uid://c081a8yloou75" path="res://Scenes/StaticElements/Wall.tscn" id="4_8bkyc"]
[ext_resource type="PackedScene" uid="uid://ko5rb3a3wf71" path="res://Scenes/StaticElements/Net.tscn" id="5_ov7pv"]
[ext_resource type="Script" uid="uid://ct3hnchvwd3vy" path="res://Scripts/debug_manager.gd" id="6_7qqmr"]
[ext_resource type="Script" uid="uid://jsdlbg8rvrai" path="res://Scripts/slime_manager.gd" id="7_5mb5f"]
[ext_resource type="Script" uid="uid://d1gfr0v445v25" path="res://addons/godot_rl_agents/sync.gd" id="7_5mlxi"]
[ext_resource type="PackedScene" uid="uid://chih4ohvublsk" path="res://Scenes/Characters/Cosmetics/Bowtie.tscn" id="8_hf643"]
[ext_resource type="Script" uid="uid://jtg3oonl6bxb" path="res://Scripts/cloud_manager.gd" id="8_ov7pv"]
[ext_resource type="PackedScene" uid="uid://lt75b2xcd67t" path="res://Scenes/MovingElements/Ball.tscn" id="8_tiel4"]
[ext_resource type="PackedScene" uid="uid://baafpaojjb6l8" path="res://Scenes/MovingElements/Cloud.tscn" id="9_7qqmr"]
[ext_resource type="Texture2D" uid="uid://utfu1scteg4i" path="res://Sprites/Background/palm_tree.png" id="9_ov7pv"]
[ext_resource type="Script" uid="uid://bpdikbdkjwhfu" path="res://Scripts/score.gd" id="9_ph36x"]
[ext_resource type="PackedScene" uid="uid://bv6lijij7t58g" path="res://Scenes/Characters/Cosmetics/Flower.tscn" id="9_sa4x1"]
[ext_resource type="PackedScene" uid="uid://d3oewgruei8w2" path="res://Scenes/Characters/Cosmetics/Glasses.tscn" id="10_2ysal"]
[ext_resource type="PackedScene" uid="uid://d2ad6vvfutfoa" path="res://Scenes/Characters/Cosmetics/Money.tscn" id="11_4bskk"]
[ext_resource type="Script" uid="uid://bgq1xmrlnqrkm" path="res://Scripts/pause_handler.gd" id="11_5fajs"]
[ext_resource type="PackedScene" uid="uid://d4al6stor17xf" path="res://Scenes/UI/InputSelector.tscn" id="12_8bkyc"]
[ext_resource type="PackedScene" uid="uid://dnk2m8jwmm2ax" path="res://Scenes/Characters/Cosmetics/Monocle.tscn" id="12_l2f2o"]
[ext_resource type="PackedScene" uid="uid://bxosi37d2sfxo" path="res://Scenes/Characters/Cosmetics/Moustache.tscn" id="13_1uat6"]
[ext_resource type="PackedScene" uid="uid://w8f1nj1351q6" path="res://Scenes/Characters/Cosmetics/Scar.tscn" id="14_7qf4v"]
[ext_resource type="PackedScene" uid="uid://rmdl5eius5u2" path="res://Scenes/Characters/Cosmetics/Shield.tscn" id="15_3uig6"]
[ext_resource type="Script" uid="uid://egelqqqu1xwh" path="res://Scripts/time_scale_slider.gd" id="15_5mlxi"]
[ext_resource type="PackedScene" uid="uid://dxtkug1jkn60m" path="res://Scenes/Characters/Cosmetics/Sunglasses.tscn" id="16_4pae4"]
[ext_resource type="PackedScene" uid="uid://dysn2vo2k53ng" path="res://Scenes/UI/CosmeticSelector.tscn" id="16_tiel4"]
[ext_resource type="PackedScene" uid="uid://dirqdly8rc4ai" path="res://Scenes/Characters/Cosmetics/Sword.tscn" id="17_p5nar"]
[ext_resource type="PackedScene" uid="uid://ci76xou7to1v1" path="res://Scenes/Characters/Cosmetics/TopHat.tscn" id="18_l1pl5"]
[ext_resource type="PackedScene" uid="uid://c6gqd8ts50aeo" path="res://Scenes/Characters/Cosmetics/Trophy.tscn" id="19_dobph"]

[sub_resource type="Resource" id="Resource_aoj3m"]
script = ExtResource("2_qnc68")
slime_number = 2
color = Color(0.5333242, 1.0949746e-06, 2.8878452e-07, 1)
name = "Left"
metadata/_custom_type_script = "uid://clyb11d4b2uxu"

[sub_resource type="Resource" id="Resource_6cl5q"]
script = ExtResource("2_qnc68")
slime_number = 2
color = Color(0.0045020543, 0.1764943, 0.7884566, 1)
name = "Right"
metadata/_custom_type_script = "uid://clyb11d4b2uxu"

[node name="PlayArea" type="Node2D" node_paths=PackedStringArray("ball", "score", "walls_container", "wall_left", "wall_right", "roof")]
script = ExtResource("1_5q6f0")
ball = NodePath("Ball")
score = NodePath("CanvasLayer/ScoreLabel")
team_list = Array[ExtResource("2_qnc68")]([SubResource("Resource_aoj3m"), SubResource("Resource_6cl5q")])
slime_scene = ExtResource("3_5fajs")
level_width = 1152.0
level_height = 648.0
wall_width = 200.0
net_height = 50.0
walls_container = NodePath("WallsContainer")
wall_left = NodePath("WallsContainer/WallLeft")
wall_right = NodePath("WallsContainer/WallRight")
roof = NodePath("WallsContainer/Roof")
ground_scene = ExtResource("4_8bkyc")
net_scene = ExtResource("5_ov7pv")

[node name="DebugManager" type="Node" parent="."]
script = ExtResource("6_7qqmr")
is_debug_mode = false
metadata/_custom_type_script = "uid://ct3hnchvwd3vy"

[node name="SlimeManager" type="Node" parent="."]
script = ExtResource("7_5mb5f")
cosmetic_scene_list = Array[PackedScene]([ExtResource("8_hf643"), ExtResource("9_sa4x1"), ExtResource("10_2ysal"), ExtResource("11_4bskk"), ExtResource("12_l2f2o"), ExtResource("13_1uat6"), ExtResource("14_7qf4v"), ExtResource("15_3uig6"), ExtResource("16_4pae4"), ExtResource("17_p5nar"), ExtResource("18_l1pl5"), ExtResource("19_dobph")])
metadata/_custom_type_script = "uid://jsdlbg8rvrai"

[node name="Sync" type="Node" parent="."]
script = ExtResource("7_5mlxi")
metadata/_custom_type_script = "uid://d1gfr0v445v25"

[node name="Camera2D" type="Camera2D" parent="."]

[node name="WallsContainer" type="Node2D" parent="."]

[node name="WallLeft" parent="WallsContainer" instance=ExtResource("4_8bkyc")]
position = Vector2(-776, 0)
scale = Vector2(200, 648)

[node name="WallRight" parent="WallsContainer" instance=ExtResource("4_8bkyc")]
position = Vector2(776, 0)
scale = Vector2(200, 648)

[node name="Roof" parent="WallsContainer" instance=ExtResource("4_8bkyc")]
position = Vector2(0, -524)
scale = Vector2(1152, 200)

[node name="CloudManager" type="Node2D" parent="."]
script = ExtResource("8_ov7pv")
cloud_scene = ExtResource("9_7qqmr")
speed_minimum = 20.0
speed_maximum = 30.0
scale_minimum = 0.6
scale_maximum = 1.0
height_coefficient_minimum = 0.0
cooldown_minimum = 5.0
cooldown_maximum = 20.0
clouds_on_spawn = 3
metadata/_custom_type_script = "uid://jtg3oonl6bxb"

[node name="PalmTree2" type="Sprite2D" parent="."]
position = Vector2(-529, 39.999985)
rotation = -2.4037282
scale = Vector2(0.6, -0.6)
texture = ExtResource("9_ov7pv")

[node name="PalmTree_Left" type="Sprite2D" parent="."]
position = Vector2(-524, 204.00003)
rotation = 0.40795472
scale = Vector2(0.7, 0.7)
texture = ExtResource("9_ov7pv")

[node name="PalmTree_Right" type="Sprite2D" parent="."]
position = Vector2(555, 151)
rotation = -0.1781002
scale = Vector2(0.7, 0.7)
texture = ExtResource("9_ov7pv")

[node name="Ball" parent="." instance=ExtResource("8_tiel4")]
z_index = 1
position = Vector2(1377, -212)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
process_mode = 3

[node name="ScoreLabel" type="RichTextLabel" parent="CanvasLayer"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -95.0
offset_right = 95.0
offset_bottom = 69.0
grow_horizontal = 2
size_flags_horizontal = 4
theme_override_constants/outline_size = 10
theme_override_font_sizes/normal_font_size = 50
bbcode_enabled = true
text = "Score"
fit_content = true
scroll_active = false
autowrap_mode = 0
horizontal_alignment = 1
vertical_alignment = 1
script = ExtResource("9_ph36x")

[node name="PauseHandler" type="Control" parent="CanvasLayer" node_paths=PackedStringArray("pause_panel", "input_selectors_container")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("11_5fajs")
pause_panel = NodePath("PausePanel")
input_selectors_container = NodePath("PausePanel/InputSelectorsContainer")
input_selector_scene = ExtResource("12_8bkyc")
cosmetic_selector_scene = ExtResource("16_tiel4")

[node name="PausePanel" type="Panel" parent="CanvasLayer/PauseHandler"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="InputSelectorsContainer" type="HBoxContainer" parent="CanvasLayer/PauseHandler/PausePanel"]
layout_mode = 1
anchors_preset = 14
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2
alignment = 1

[node name="TimeScaleSlider" type="HSlider" parent="CanvasLayer/PauseHandler/PausePanel"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -100.0
offset_top = -104.0
offset_right = 100.0
offset_bottom = -88.0
grow_horizontal = 2
grow_vertical = 0
scale = Vector2(2, 2)
pivot_offset = Vector2(100, 0)
max_value = 2.0
step = 0.01
value = 1.0
script = ExtResource("15_5mlxi")
