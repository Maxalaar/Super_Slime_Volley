[gd_scene load_steps=12 format=3 uid="uid://cu00eb54h02i4"]

[ext_resource type="Script" uid="uid://bytoo1w48p0i5" path="res://Scripts/play_area.gd" id="1_0aman"]
[ext_resource type="Script" uid="uid://d1gfr0v445v25" path="res://addons/godot_rl_agents/sync.gd" id="1_07538"]
[ext_resource type="PackedScene" uid="uid://c081a8yloou75" path="res://Scenes/StaticElements/Wall.tscn" id="1_qvnfi"]
[ext_resource type="Script" uid="uid://ct3hnchvwd3vy" path="res://Scripts/debug_manager.gd" id="2_g1o54"]
[ext_resource type="Script" uid="uid://b4t2c8j02mp2w" path="res://Scripts/slime.gd" id="2_jdpsq"]
[ext_resource type="Script" uid="uid://bqq1c77i3e0fk" path="res://Scripts/ball.gd" id="2_w3g2i"]
[ext_resource type="Script" uid="uid://0hnx7x0646ka" path="res://Scripts/slime_ai_controller.gd" id="4_crlpk"]
[ext_resource type="Script" uid="uid://bpdikbdkjwhfu" path="res://Scripts/score.gd" id="8_t370e"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_jdpsq"]
bounce = 1.0

[sub_resource type="ConvexPolygonShape2D" id="ConvexPolygonShape2D_0aman"]
points = PackedVector2Array(15, 0, 14.815325, -2.346517, 14.265848, -4.635255, 13.365098, -6.8098574, 12.135255, -8.816779, 10.606602, -10.606602, 8.816779, -12.135255, 6.8098574, -13.365098, 4.635255, -14.265848, 2.346517, -14.815325, 9.184548e-16, -15, -2.346517, -14.815325, -4.635255, -14.265848, -6.8098574, -13.365098, -8.816779, -12.135255, -10.606602, -10.606602, -12.135255, -8.816779, -13.365098, -6.8098574, -14.265848, -4.635255, -14.815325, -2.346517, -15, -1.8369095e-15, -14.815325, 2.346517, -14.265848, 4.635255, -13.365098, 6.8098574, -12.135255, 8.816779, -10.606602, 10.606602, -8.816779, 12.135255, -6.8098574, 13.365098, -4.635255, 14.265848, -2.346517, 14.815325, -2.7553643e-15, 15, 2.346517, 14.815325, 4.635255, 14.265848, 6.8098574, 13.365098, 8.816779, 12.135255, 10.606602, 10.606602, 12.135255, 8.816779, 13.365098, 6.8098574, 14.265848, 4.635255, 14.815325, 2.346517, 15, 3.673819e-15)

[sub_resource type="ConvexPolygonShape2D" id="ConvexPolygonShape2D_jdpsq"]
points = PackedVector2Array(50, 0, 49.38442, -7.8217235, 47.552826, -15.45085, 44.550327, -22.699526, 40.45085, -29.389263, 35.35534, -35.35534, 29.389263, -40.45085, 22.699526, -44.550327, 15.45085, -47.552826, 7.8217235, -49.38442, 3.0615159e-15, -50, -7.8217235, -49.38442, -15.45085, -47.552826, -22.699526, -44.550327, -29.389263, -40.45085, -35.35534, -35.35534, -40.45085, -29.389263, -44.550327, -22.699526, -47.552826, -15.45085, -49.38442, -7.8217235, -50, -6.1230318e-15)

[node name="PlayArea" type="Node2D" node_paths=PackedStringArray("wall_left", "wall_right", "roof", "ground")]
script = ExtResource("1_0aman")
level_width = 1152.0
level_height = 648.0
wall_width = 200.0
wall_left = NodePath("Walls/WallLeft")
wall_right = NodePath("Walls/WallRight")
roof = NodePath("Walls/Roof")
ground = NodePath("Walls/Ground")

[node name="DebugManager" type="Node" parent="."]
script = ExtResource("2_g1o54")
is_debug_mode = false
metadata/_custom_type_script = "uid://ct3hnchvwd3vy"

[node name="Sync" type="Node" parent="."]
script = ExtResource("1_07538")
metadata/_custom_type_script = "uid://d1gfr0v445v25"

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Walls" type="Node2D" parent="."]

[node name="WallLeft" parent="Walls" instance=ExtResource("1_qvnfi")]
position = Vector2(-776, 0)
scale = Vector2(200, 648)

[node name="WallRight" parent="Walls" instance=ExtResource("1_qvnfi")]
position = Vector2(776, 0)
scale = Vector2(200, 648)

[node name="Roof" parent="Walls" instance=ExtResource("1_qvnfi")]
position = Vector2(0, -524)
scale = Vector2(1152, 200)

[node name="Ground" parent="Walls" groups=["ground"] instance=ExtResource("1_qvnfi")]
position = Vector2(0, 524)
scale = Vector2(1152, 200)

[node name="Ball" type="RigidBody2D" parent="." node_paths=PackedStringArray("collision_shape", "polygon_2d")]
position = Vector2(1377, -212)
collision_layer = 2
mass = 10.0
physics_material_override = SubResource("PhysicsMaterial_jdpsq")
contact_monitor = true
max_contacts_reported = 10
script = ExtResource("2_w3g2i")
max_speed = 800.0
spawn_offset_percent_x = 1.0
spawn_offset_percent_y = 0.2
collision_shape = NodePath("CollisionShape2D")
collision_scale_factor = 15.0
collision_points_number = 40
color = Color(0.8509804, 0.5529412, 0, 1)
polygon_2d = NodePath("Polygon2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ball"]
shape = SubResource("ConvexPolygonShape2D_0aman")

[node name="Polygon2D" type="Polygon2D" parent="Ball"]
color = Color(0.8509804, 0.5529412, 0, 1)
polygon = PackedVector2Array(15, 0, 14.815325, -2.346517, 14.265848, -4.635255, 13.365098, -6.8098574, 12.135255, -8.816779, 10.606602, -10.606602, 8.816779, -12.135255, 6.8098574, -13.365098, 4.635255, -14.265848, 2.346517, -14.815325, 9.184548e-16, -15, -2.346517, -14.815325, -4.635255, -14.265848, -6.8098574, -13.365098, -8.816779, -12.135255, -10.606602, -10.606602, -12.135255, -8.816779, -13.365098, -6.8098574, -14.265848, -4.635255, -14.815325, -2.346517, -15, -1.8369095e-15, -14.815325, 2.346517, -14.265848, 4.635255, -13.365098, 6.8098574, -12.135255, 8.816779, -10.606602, 10.606602, -8.816779, 12.135255, -6.8098574, 13.365098, -4.635255, 14.265848, -2.346517, 14.815325, -2.7553643e-15, 15, 2.346517, 14.815325, 4.635255, 14.265848, 6.8098574, 13.365098, 8.816779, 12.135255, 10.606602, 10.606602, 12.135255, 8.816779, 13.365098, 6.8098574, 14.265848, 4.635255, 14.815325, 2.346517, 15, 3.673819e-15)

[node name="Slime" type="CharacterBody2D" parent="." node_paths=PackedStringArray("ai_controller")]
position = Vector2(-1075, 205)
script = ExtResource("2_jdpsq")
speed = 500.0
spawn_offset_percent_x = 0.35
ai_controller = NodePath("AIController2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Slime"]
shape = SubResource("ConvexPolygonShape2D_jdpsq")

[node name="Polygon2D" type="Polygon2D" parent="Slime"]
color = Color(0.5858467, 1.8049031e-06, 4.3317675e-07, 1)
polygon = PackedVector2Array(50, 0, 49.38442, -7.8217235, 47.552826, -15.45085, 44.550327, -22.699526, 40.45085, -29.389263, 35.35534, -35.35534, 29.389263, -40.45085, 22.699526, -44.550327, 15.45085, -47.552826, 7.8217235, -49.38442, 3.0615159e-15, -50, -7.8217235, -49.38442, -15.45085, -47.552826, -22.699526, -44.550327, -29.389263, -40.45085, -35.35534, -35.35534, -40.45085, -29.389263, -44.550327, -22.699526, -47.552826, -15.45085, -49.38442, -7.8217235, -50, -6.1230318e-15)

[node name="AIController2D" type="Node2D" parent="Slime" node_paths=PackedStringArray("ball", "play_area")]
script = ExtResource("4_crlpk")
ball = NodePath("../../Ball")
play_area = NodePath("../..")
metadata/_custom_type_script = "uid://gs021hdueapq"

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ScoreLabel" type="Label" parent="CanvasLayer"]
offset_left = 30.0
offset_top = 19.0
offset_right = 140.0
offset_bottom = 64.0
theme_override_font_sizes/font_size = 35
text = "Score : 0"
script = ExtResource("8_t370e")
